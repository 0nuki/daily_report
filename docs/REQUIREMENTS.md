# 日報作成システム - システム要件定義書

## プロジェクト概要

日報の作成・管理を行うWebアプリケーションシステム

## 技術スタック

- **フレームワーク**: Laravel 11.x
- **フロントエンド**: 
  - CSS: Bootstrap 5.x
  - インタラクティブ機能: Laravel Livewire
- **データベース**: MySQL
- **開発環境**: Laravel Herd

## 機能要件

### 1. ユーザー管理機能

#### 1.1 ユーザー登録画面
- **機能概要**: 新規ユーザーがアカウントを作成できる
- **入力項目**:
  - 氏名
  - メールアドレス
  - パスワード
  - パスワード確認
- **バリデーション**:
  - 全項目必須
  - メールアドレス形式チェック
  - メールアドレス重複チェック
  - パスワード最小8文字
  - パスワード一致確認

#### 1.2 ログイン画面
- **機能概要**: 登録済みユーザーがシステムにログインできる
- **入力項目**:
  - メールアドレス
  - パスワード
  - ログイン状態を保持（Remember Me）
- **機能**:
  - 認証処理
  - ログイン失敗時のエラー表示
  - パスワードリセット機能（オプション）

### 2. 日報管理機能

#### 2.1 日報一覧画面
- **機能概要**: 登録された日報の一覧を表示
- **表示項目**:
  - 日付
  - タイトル
  - 作成者名
  - 作成日時
  - ステータス（下書き/提出済み）
- **機能**:
  - 一覧表示（ページネーション）
  - 日付でのフィルタリング
  - 日報詳細表示
  - 新規作成ボタン
  - 編集ボタン
  - 削除ボタン
- **技術**: Livewire使用

#### 2.2 日報作成画面
- **機能概要**: 新規日報を作成できる
- **入力項目**:
  - 日付（デフォルト: 今日）
  - タイトル
  - 業務内容
  - 所感・気づき
  - 明日の予定
  - ステータス（下書き/提出）
- **バリデーション**:
  - 日付、タイトル、業務内容は必須
  - タイトル最大255文字
  - 業務内容、所感・気づき、明日の予定はテキストエリア
- **機能**:
  - リアルタイムバリデーション
  - 下書き保存
  - 提出
- **技術**: Livewire使用

#### 2.3 日報編集画面
- **機能概要**: 既存の日報を編集できる
- **入力項目**: 日報作成画面と同じ
- **制約**:
  - 自分が作成した日報のみ編集可能
  - 提出済みの日報も編集可能（必要に応じて制限可能）
- **機能**:
  - リアルタイムバリデーション
  - 更新処理
  - キャンセル機能
- **技術**: Livewire使用

## データベース設計

### usersテーブル
- id (Primary Key)
- name (VARCHAR 255)
- email (VARCHAR 255, UNIQUE)
- password (VARCHAR 255)
- email_verified_at (TIMESTAMP, NULLABLE)
- remember_token (VARCHAR 100, NULLABLE)
- created_at (TIMESTAMP)
- updated_at (TIMESTAMP)

### daily_reportsテーブル
- id (Primary Key)
- user_id (Foreign Key -> users.id)
- report_date (DATE)
- title (VARCHAR 255)
- work_content (TEXT)
- reflection (TEXT, NULLABLE)
- tomorrow_plan (TEXT, NULLABLE)
- status (ENUM: 'draft', 'submitted')
- created_at (TIMESTAMP)
- updated_at (TIMESTAMP)

**インデックス**:
- user_id
- report_date
- status

## 画面設計

### レイアウト構成
- **共通ヘッダー**:
  - サイトロゴ/タイトル
  - ナビゲーションメニュー
  - ユーザー情報
  - ログアウトボタン
- **共通フッター**:
  - コピーライト
- **サイドバー**（オプション）:
  - メニュー

### デザインガイドライン
- **CSS Framework**: Bootstrap 5.x
- **レスポンシブ対応**: モバイル・タブレット・デスクトップ
- **カラースキーム**: Bootstrap デフォルトテーマ（カスタマイズ可能）

## 非機能要件

### セキュリティ
- パスワードのハッシュ化（bcrypt）
- CSRF対策
- XSS対策
- SQL Injection対策
- 認証ミドルウェアによるアクセス制御

### パフォーマンス
- ページ読み込み時間: 3秒以内
- データベースクエリの最適化
- Eager Loading による N+1 問題の回避

### ユーザビリティ
- 直感的なUI/UX
- エラーメッセージの明確な表示
- 成功時のフィードバック（フラッシュメッセージ）

## 開発フェーズ

### Phase 1: 基本機能実装
1. 認証機能（Laravel Breeze or Jetstream）
2. データベースマイグレーション
3. 日報CRUDの基本実装

### Phase 2: UI/UX向上
1. Bootstrap統合
2. Livewire統合
3. リアルタイムバリデーション

### Phase 3: 追加機能・改善
1. フィルタリング・検索機能
2. ページネーション
3. エラーハンドリング改善

## 今後の拡張可能性

- 日報のPDFエクスポート機能
- コメント・承認機能
- チーム・部署管理機能
- 統計・分析ダッシュボード
- メール通知機能
- 日報テンプレート機能
